<div class="page-container">
  <div class="page-header">
    <div class="page-title-row">
      <mat-icon>edit</mat-icon>
      <h2 class="page-title">Modificación de Solicitudes</h2>
    </div>
    <div class="header-actions">
      <button class="btn-limpiar" (click)="limpiarRegistro()" matTooltip="Limpiar registro">
        <mat-icon>cleaning_services</mat-icon>
        Limpiar
      </button>
      <button class="btn-volver" (click)="goHome()">
        <mat-icon>arrow_back</mat-icon>
        Volver
      </button>
    </div>
  </div>

  <div [formGroup]="formulario">
    <div class="search-card">
      <div class="search-fields">

        <mat-form-field appearance="outline" class="search-field">
          <mat-label>Folio</mat-label>
          <input matInput formControlName="folio" />
        </mat-form-field>

        <button class="btn-buscar" (click)="buscarSolicitud()">
          <mat-icon>search</mat-icon>
          Buscar
        </button>

        <mat-form-field appearance="outline" class="search-field select-field">
          <mat-label>Seleccione una opción</mat-label>
          <mat-select formControlName="estadoSeleccionado">
            <mat-option *ngFor="let op of opcionesEstado" [value]="op.value">
              {{ op.label }}
            </mat-option>
          </mat-select>
          <mat-hint *ngIf="opcionesEstado.length === 0" style="color:#c62828">
            Sin opciones para tu rol
          </mat-hint>
        </mat-form-field>

        <button class="btn-reimprimir" (click)="reImprimir()">
          <mat-icon>print</mat-icon>
          Re-imprimir
        </button>

      </div>
    </div>

    <div class="seccion-card">
      <div class="seccion-titulo">
        <mat-icon>description</mat-icon>
        Datos del Acta
      </div>
      <div class="form-grid-4">
        <div class="form-campo">
          <label>Servicio</label>
          <input formControlName="servicio" readonly class="campo-input readonly" />
        </div>
        <div class="form-campo">
          <label>Tipo de Acta</label>
          <input formControlName="tipoActa" readonly class="campo-input readonly" />
        </div>
        <div class="form-campo">
          <label>Año</label>
          <input formControlName="anio" class="campo-input" />
        </div>
        <div class="form-campo">
          <label>Años de Búsqueda</label>
          <input formControlName="aniosBusqueda" readonly class="campo-input readonly" />
        </div>
        <div class="form-campo">
          <label>Rango de Búsqueda</label>
          <input formControlName="rangoBusqueda" readonly class="campo-input readonly" />
        </div>
        <div class="form-campo">
          <label>Fecha de Registro</label>
          <input type="date" formControlName="fechaRegistro" class="campo-input" />
        </div>
      </div>
      <div class="form-grid-3" style="margin-top: 0.75rem">
        <div class="form-campo">
          <label>Oficialía</label>
          <input formControlName="oficialia" class="campo-input" />
        </div>
        <div class="form-campo">
          <label>No. de Acta</label>
          <input formControlName="noActa" class="campo-input" />
        </div>
        <div class="form-campo">
          <label>No. de Foja</label>
          <input formControlName="noFoja" class="campo-input" />
        </div>
      </div>
    </div>

    <div class="seccion-card">
      <div class="seccion-titulo">
        <mat-icon>place</mat-icon>
        Registro
      </div>
      <div class="form-grid-4">
        <div class="form-campo">
          <label>Localidad</label>
          <input formControlName="localidad" class="campo-input" />
        </div>
        <div class="form-campo">
          <label>Estado</label>
          <input formControlName="estadoRegistro" class="campo-input" />
        </div>
        <div class="form-campo">
          <label>Distrito</label>
          <input formControlName="distrito" class="campo-input" />
        </div>
        <div class="form-campo">
          <label>Municipio</label>
          <input formControlName="municipio" class="campo-input" />
        </div>
      </div>
      <div class="form-campo full-width" style="margin-top: 0.75rem">
        <label>Nombre(s)</label>
        <input formControlName="nombres" class="campo-input" />
      </div>
    </div>

    <div class="seccion-card">
      <div class="seccion-titulo">
        <mat-icon>calendar_today</mat-icon>
        Fechas
      </div>
      <div class="form-grid-3">
        <div class="form-campo">
          <label>Fecha Solicitud</label>
          <input type="date" formControlName="fechaSolicitud" class="campo-input" />
        </div>
        <div class="form-campo">
          <label>Fecha Entrega</label>
          <input type="date" formControlName="fechaEntrega" class="campo-input" />
        </div>
        <div class="form-campo">
          <label>Fecha Pago</label>
          <input type="date" formControlName="fechaPago" class="campo-input" />
        </div>
      </div>
    </div>

    <div class="seccion-card">
      <div class="seccion-titulo">
        <mat-icon>notes</mat-icon>
        Observaciones
      </div>
      <textarea formControlName="observaciones" class="campo-input textarea" rows="4"></textarea>
    </div>

    <div class="acciones-footer">
      <button class="btn-cancelar" (click)="cancelar()">Cancelar</button>
      <button class="btn-guardar" (click)="guardarCambios()">
        <mat-icon>save</mat-icon>
        Guardar Cambios
      </button>
    </div>

  </div>
</div>